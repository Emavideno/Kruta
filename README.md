# Kruta

Сетевая карточная игра с клиент-серверной архитектурой на языке **C#**. Проект поддерживает как игру в локальной сети, так и через виртуальные частные сети (VPN).

## Структура проекта

- **Server** — консольное приложение или модуль, управляющий игровой логикой, колодой и очередностью ходов.
    
- **Client (GUI)** — графический интерфейс (MAUI/WPF), через который игроки взаимодействуют с сервером.
    
- **Shared/Protocol** — общая библиотека классов и логика сетевых пакетов (EAPacket).
    

## Требования

- **ОС:** Windows 10/11
    
- **Среда выполнения:** .NET 10.0 
    
- **Инструменты:** Visual Studio 2026 для сборки (потому что .slnx файлы как я понимаю только в новой студии можно запускать)
    

## Установка и запуск

1. **Клонируйте репозиторий:**
    
    Bash
    
    ```
    git clone https://github.com/ExplosiveKittens/Semestrovaya2.git
    ```
    
2. Сборка:
    
    Откройте файл решения .sln в Visual Studio и выполните «Собрать решение» (Build Solution).
    

## Настройка подключения

Перед запуском необходимо указать IP-адрес хоста (сервера) в конфигурационных файлах.

### 1. Выбор IP-адреса

|**Сценарий игры**|**Какой IP использовать**|
|---|---|
|**На одном компьютере**|`127.0.0.1` (localhost)|
|**Локальная сеть (LAN)**|IPv4-адрес компьютера-хоста (узнать через `ipconfig` в командной строке)|
|**Через Интернет**|Виртуальный IP-адрес хоста в используемом VPN-сервисе|

### 2. Редактирование конфигурации

Найдите файлы настроек в проекте (например, `settings.json` или `settingsForServer.json`) и обновите поле `Host`:

JSON

```
{
  "Host": "ВАШ_IP_АДРЕС",
  "Port": 8888
}
```

## Как начать игру

1. **Запуск сервера (Хост):**
    
    - Запустите серверное приложение. Оно начнет прослушивать порт (по умолчанию `8888`).
        
    - Убедитесь, что брандмауэр Windows не блокирует входящие соединения для программы.
        
2. **Подключение клиентов:**
    
    - Игроки запускают клиентское приложение.
        
    - Вводят свой никнейм и нажимают кнопку подключения/готовности.
        
3. **Старт:**
    
    - Когда все игроки подключатся и подтвердят готовность, сервер инициирует начало матча.
        
    - В начале игры каждый игрок получает по **3 карты** в руку.
        

## Решение проблем

- **Клиент не видит сервер:** Проверьте, что в конфиге указан верный IP, и сервер запущен раньше клиента.
    
- **Ошибка подключения:** Если вы играете через VPN, убедитесь, что все участники находятся в одной виртуальной комнате/сети.
    
- **Брандмауэр:** Если соединение сбрасывается, попробуйте временно отключить брандмауэр или добавьте порт `8888` в исключения (Inbound Rules).
    

## Технологии

- **Язык:** C#
    
- **Сетевой протокол:** TCP/IP (+ EAPacket свой)
    
- **Архитектура:** Client-Server
    
- **Интерфейс:** .NET MAUI / CommunityToolkit.Mvvm (библиотека чтобы удобнее MVVM использовать)
